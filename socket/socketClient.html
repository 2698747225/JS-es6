<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>test</title>
</head>

<body>
  <button id="test">hello siegaii</button>
  <input type="text" id="input" onchange="valueChange()" />
  ​<div class="content"></div>
  <script>
    var input = document.getElementById('input');
    let ws = new WebSocket('ws://localhost:8080/WebSocket');
    document.getElementById('test').addEventListener('click', () => {
    });

    valueChange = () => {
      ws.send(input.value);
    }

    // 响应onmessage事件:
    ws.onmessage = (msg) => {
      console.log(msg);
      const dom = document.querySelector('.content');
      const newElm = document.createElement('div');
      newElm.innerHTML = msg.data;
      dom.appendChild(newElm);
    };
  </script>
</body>

</html>